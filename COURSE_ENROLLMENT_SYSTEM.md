# ูุธุงู ุงูุชุณุฌูู ูู ุงูููุฑุณุงุช - Course Enrollment System

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุชุณุฌูู ูู ุงูููุฑุณุงุช ุจูู ุงูุทูุงุจ ูุงููุนููููุ ูุน ูุธุงู ููุงุชูุฑ ูุชูุฏู ููุธุงู ุฏูุน ุจุงูุงูุณุงุท.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฏ ููุทูุงุจ
- ุฅุฑุณุงู ุทูุจุงุช ุงูุชุณุฌูู ูู ุงูููุฑุณุงุช
- ูุชุงุจุนุฉ ุญุงูุฉ ุงูุทูุจุงุช
- ุนุฑุถ ุงูุชุณุฌููุงุช ุงููุดุทุฉ
- ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ ูุงููุฏููุนุงุช
- ููุญุฉ ุชุญูู ุดุฎุตูุฉ

### ๐จโ๐ซ ูููุนูููู
- ุงุณุชูุจุงู ูุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุชุณุฌูู
- ุงูููุงููุฉ ุฃู ุฑูุถ ุงูุทูุจุงุช
- ุฅูุดุงุก ููุงุชูุฑ ูุชุนุฏุฏุฉ (ุญุฌุฒุ ููุฑุณุ ุฃูุณุงุท)
- ูุฑุงูุจุฉ ุนุฏุฏ ุงูุทูุงุจ ูุงูุญุฏ ุงูุฃูุตู
- ููุญุฉ ุชุญูู ุดุงููุฉ

### ๐ฐ ูุธุงู ุงูููุงุชูุฑ
- ููุงุชูุฑ ุญุฌุฒ ุงุฎุชูุงุฑูุฉ
- ููุงุชูุฑ ููุฑุณ ูุน ุฎุตููุงุช
- ูุธุงู ุฃูุณุงุท ูุฑู
- ุฏุนู ุทุฑู ุฏูุน ูุชุนุฏุฏุฉ
- ุชุชุจุน ุญุงูุฉ ุงููุฏููุนุงุช

## ุงูุจููุฉ ุงูุชูููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ
course_enrollment_requests     -- ุทูุจุงุช ุงูุชุณุฌูู
student_course_enrollments     -- ุงูุชุณุฌููุงุช ุงูููุจููุฉ
course_invoices               -- ุงูููุงุชูุฑ
payment_installments          -- ุงูุฃูุณุงุท
```

### ุงููููุงุช
```
src/
โโโ models/                   # ููุงุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ course-enrollment-request.model.ts
โ   โโโ student-course-enrollment.model.ts
โ   โโโ course-invoice.model.ts
โ   โโโ payment-installment.model.ts
โโโ services/                 # ุทุจูุฉ ุงูุฎุฏูุงุช
โ   โโโ course-enrollment.service.ts
โโโ controllers/              # ุงููุชุญููุงุช
โ   โโโ student/course-enrollment.controller.ts
โ   โโโ teacher/course-enrollment.controller.ts
โโโ routes/                   # ุงููุณุงุฑุงุช
โ   โโโ student/course-enrollment.routes.ts
โ   โโโ teacher/course-enrollment.routes.ts
โโโ types/                    # ุงูุชุนุฑููุงุช
    โโโ index.ts (ูุญุฏุซ)
```

## ุฏูุฑุฉ ุญูุงุฉ ุงูุทูุจ

### 1. ุฅุฑุณุงู ุงูุทูุจ
```typescript
POST /api/student/enrollment-requests
{
  "courseId": "uuid",
  "studyYear": "2024-2025",
  "studentMessage": "ุฃุฑูุฏ ุงูุชุณุฌูู ูู ูุฐุง ุงูููุฑุณ"
}
```

### 2. ูุฑุงุฌุนุฉ ุงููุนูู
```typescript
GET /api/teacher/enrollment-requests
```

### 3. ุงูููุงููุฉ ุนูู ุงูุทูุจ
```typescript
PUT /api/teacher/enrollment-requests/:id/approve
{
  "courseStartDate": "2024-09-01",
  "courseEndDate": "2024-12-31",
  "totalCourseAmount": 100.00,
  "reservationAmount": 20.00  // ุงุฎุชูุงุฑู
}
```

### 4. ุฅูุดุงุก ุงูููุงุชูุฑ
- ูุงุชูุฑุฉ ุญุฌุฒ (ุฅุฐุง ุชู ุชุญุฏูุฏ ูุจูุบ ุงูุญุฌุฒ)
- ูุงุชูุฑุฉ ุงูููุฑุณ (ุงููุจูุบ ุงููุชุจูู)

## API Endpoints

### ููุทูุงุจ

#### ุทูุจุงุช ุงูุชุณุฌูู
- `POST /api/student/enrollment-requests` - ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
- `GET /api/student/enrollment-requests` - ุนุฑุถ ุงูุทูุจุงุช
- `GET /api/student/enrollment-requests/:id` - ุนุฑุถ ุทูุจ ูุญุฏุฏ
- `DELETE /api/student/enrollment-requests/:id` - ุญุฐู ุทูุจ

#### ุงูุชุณุฌููุงุช
- `GET /api/student/enrollments` - ุนุฑุถ ุงูุชุณุฌููุงุช
- `GET /api/student/enrollments/:id` - ุนุฑุถ ุชุณุฌูู ูุญุฏุฏ

#### ุงูููุงุชูุฑ
- `GET /api/student/invoices` - ุนุฑุถ ุงูููุงุชูุฑ
- `GET /api/student/invoices/:id` - ุนุฑุถ ูุงุชูุฑุฉ ูุญุฏุฏุฉ
- `PUT /api/student/invoices/:id/payment` - ุชุญุฏูุซ ุงููุฏููุนุงุช

#### ููุญุฉ ุงูุชุญูู
- `GET /api/student/dashboard` - ุจูุงูุงุช ููุญุฉ ุงูุชุญูู

### ูููุนูููู

#### ุทูุจุงุช ุงูุชุณุฌูู
- `GET /api/teacher/enrollment-requests` - ุนุฑุถ ุงูุทูุจุงุช
- `GET /api/teacher/enrollment-requests/:id` - ุนุฑุถ ุทูุจ ูุญุฏุฏ
- `PUT /api/teacher/enrollment-requests/:id/approve` - ุงูููุงููุฉ
- `PUT /api/teacher/enrollment-requests/:id/reject` - ุงูุฑูุถ

#### ุงูุชุณุฌููุงุช
- `GET /api/teacher/enrollments` - ุนุฑุถ ุงูุชุณุฌููุงุช
- `GET /api/teacher/enrollments/:id` - ุนุฑุถ ุชุณุฌูู ูุญุฏุฏ
- `PUT /api/teacher/enrollments/:id/status` - ุชุญุฏูุซ ุงูุญุงูุฉ

#### ุงูููุงุชูุฑ
- `POST /api/teacher/invoices/reservation` - ุฅูุดุงุก ูุงุชูุฑุฉ ุญุฌุฒ
- `POST /api/teacher/invoices/course` - ุฅูุดุงุก ูุงุชูุฑุฉ ููุฑุณ
- `POST /api/teacher/invoices/bulk` - ุฅูุดุงุก ููุงุชูุฑ ูุชุนุฏุฏุฉ
- `GET /api/teacher/invoices` - ุนุฑุถ ุงูููุงุชูุฑ
- `GET /api/teacher/invoices/:id` - ุนุฑุถ ูุงุชูุฑุฉ ูุญุฏุฏุฉ
- `PUT /api/teacher/invoices/:id` - ุชุญุฏูุซ ุงููุงุชูุฑุฉ
- `PUT /api/teacher/invoices/:id/payment` - ุชุญุฏูุซ ุงููุฏููุนุงุช

#### ููุญุฉ ุงูุชุญูู
- `GET /api/teacher/dashboard` - ุจูุงูุงุช ููุญุฉ ุงูุชุญูู

## ุฃููุงุน ุงูููุงุชูุฑ

### 1. ูุงุชูุฑุฉ ุงูุญุฌุฒ (Reservation)
- ูุจูุบ ุฒููุฏ ุบูุฑ ูุงุจู ููุงุณุชุฑุฌุงุน
- ุงุณุชุญูุงู ุฎูุงู ุฃุณุจูุน
- ุงุฎุชูุงุฑูุฉ ุญุณุจ ุฑุบุจุฉ ุงููุนูู

### 2. ูุงุชูุฑุฉ ุงูููุฑุณ (Course)
- ุงููุจูุบ ุงูุฅุฌูุงูู ููููุฑุณ
- ูููู ุฅุถุงูุฉ ุฎุตููุงุช
- ุงุณุชุญูุงู ุฎูุงู ุดูุฑ

### 3. ูุงุชูุฑุฉ ุงูุฃูุณุงุท (Installment)
- ุชูุณูู ุงููุจูุบ ุนูู ุฃูุณุงุท
- ุชูุงุฑูุฎ ุงุณุชุญูุงู ูุฎุชููุฉ
- ูุฑููุฉ ูู ุงูุฏูุน

## ูุธุงู ุงูุฃูุณุงุท

### ุฅูุดุงุก ุฃูุณุงุท
```typescript
POST /api/teacher/invoices/bulk
{
  "enrollmentIds": ["uuid1", "uuid2"],
  "invoiceType": "installment",
  "amountDue": 100.00,
  "dueDate": "2024-10-01",
  "installments": [
    {
      "installmentNumber": 1,
      "installmentAmount": 50.00,
      "dueDate": "2024-09-15"
    },
    {
      "installmentNumber": 2,
      "installmentAmount": 50.00,
      "dueDate": "2024-10-01"
    }
  ]
}
```

### ุญุงูุงุช ุงููุณุท
- `pending` - ูุนูู
- `partial` - ูุฏููุน ุฌุฒุฆูุงู
- `paid` - ูุฏููุน ุจุงููุงูู
- `overdue` - ูุชุฃุฎุฑ

## ูุฑุงูุจุฉ ุงูุญุฏ ุงูุฃูุตู

### ุงูุชุญูู ุงูุชููุงุฆู
- ูุชุญูู ุงููุธุงู ูู ุนุฏุฏ ุงูุทูุงุจ ูุจู ูุจูู ุทุงูุจ ุฌุฏูุฏ
- ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ ุนูุฏ ุงููุตูู ููุญุฏ ุงูุฃูุตู
- ุฑุจุท ุจุนุฏุฏ ุงูุทูุงุจ ุงููุณููุญ ุจู ูู ุงูุจุงูุฉ

### ุฏุงูุฉ ุงูุชุญูู
```sql
SELECT can_teacher_add_student('teacher-uuid');
-- Returns: true/false
```

## ุงูุฑุณุงุฆู ูุงูุชูุจููุงุช

### ููุทูุงุจ
- ุชุฃููุฏ ุฅุฑุณุงู ุงูุทูุจ
- ุฅุดุนุงุฑ ุงูููุงููุฉ/ุงูุฑูุถ
- ุชูุจููุงุช ุงุณุชุญูุงู ุงูุฏูุน
- ุชุญุฏูุซุงุช ุญุงูุฉ ุงูุชุณุฌูู

### ูููุนูููู
- ุฅุดุนุงุฑุงุช ุทูุจุงุช ุฌุฏูุฏุฉ
- ุชูุจููุงุช ุงููุตูู ููุญุฏ ุงูุฃูุตู
- ุชูุงุฑูุฑ ุงููุฏููุนุงุช
- ุฅุญุตุงุฆูุงุช ุงูุชุณุฌููุงุช

## ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ุงูุชุญูู ูู ุงูููููุฉ
- ุงูุทุงูุจ ููููู ุงููุตูู ูุทูุจุงุชู ููุท
- ุงููุนูู ููููู ุงููุตูู ูุทูุจุงุช ููุฑุณุงุชู ููุท
- ุงูุชุญูู ูู ููุน ุงููุณุชุฎุฏู (Student/Teacher)

### Middleware ุงูุฃูุงู
```typescript
router.use(authenticateToken);  // ุงูุชุญูู ูู ุงูุฑูุฒ
// ุงูุชุญูู ูู ููุน ุงููุณุชุฎุฏู ูู ูู ุฏุงูุฉ
```

## ุงูุฃุฏุงุก ูุงูุชุญุณูู

### ุงูููุงุฑุณ
- ููุงุฑุณ ุนูู ุงููุนุฑูุงุช ุงูุฑุฆูุณูุฉ
- ููุงุฑุณ ุนูู ุงูุชูุงุฑูุฎ ูุงูุญุงูุงุช
- ููุงุฑุณ ูุฑูุจุฉ ููุงุณุชุนูุงูุงุช ุงููุนูุฏุฉ

### ุงูุชุฑูุฌุฑุงุช
- ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ุงูููุงุชูุฑ
- ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ุงูุฃูุณุงุท
- ุงูุชุญูู ูู ุนุฏุฏ ุงูุทูุงุจ

## ุงูุงุณุชุฎุฏุงู

### 1. ุชุซุจูุช ุงููุธุงู
```bash
# ุชุดุบูู ููู ุงููุฌุฑุฉ
npm run migrate:enrollment
```

### 2. ุชุดุบูู ุงูุฎุงุฏู
```bash
npm run dev
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู
```bash
# ุงุฎุชุจุงุฑ ุทูุจ ุงูุชุณุฌูู
curl -X POST http://localhost:3000/api/student/enrollment-requests \
  -H "Authorization: Bearer TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"courseId":"uuid","studyYear":"2024-2025"}'
```

## ุงูุฏุนู ูุงูุตูุงูุฉ

### ุงูููุงู ุงูุฏูุฑูุฉ
- ุชุญุฏูุซ ุงูุทูุจุงุช ููุชููุฉ ุงูุตูุงุญูุฉ
- ุชุญุฏูุซ ุงูุชุณุฌููุงุช ููุชููุฉ ุงูุตูุงุญูุฉ
- ุชุญุฏูุซ ุงูููุงุชูุฑ ุงููุชุฃุฎุฑุฉ
- ุชุญุฏูุซ ุงูุฃูุณุงุท ุงููุชุฃุฎุฑุฉ

### ุงููุฑุงูุจุฉ
- ุณุฌูุงุช ุงูุฃุฎุทุงุก
- ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- ุชูุงุฑูุฑ ุงูุงุณุชุฎุฏุงู

## ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงูููุฒุงุช ุงูููุชุฑุญุฉ
- ูุธุงู ุฅุดุนุงุฑุงุช ูุชูุฏู
- ุชูุงุฑูุฑ ูุงููุฉ ููุตูุฉ
- ูุธุงู ุฎุตููุงุช ูุชุทูุฑ
- ุชูุงูู ูุน ุจูุงุจุงุช ุงูุฏูุน
- ุชุทุจูู ููุจุงูู

### ุงูุชุญุณููุงุช ุงูุชูููุฉ
- Redis ููุชุฎุฒูู ุงููุคูุช
- Elasticsearch ููุจุญุซ
- WebSockets ููุชุญุฏูุซุงุช ุงููุจุงุดุฑุฉ
- ูุธุงู ููุงูุจ ููููุงุชูุฑ

## ุงููุณุงููุฉ

### ุฅุฑุดุงุฏุงุช ุงูุชุทููุฑ
1. ุงุชุจุน ูุนุงููุฑ ุงูููุฏ
2. ุงูุชุจ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
3. ุญุฏุซ ุงูุชูุซูู
4. ุงุณุชุฎุฏู TypeScript
5. ุงุชุจุน ูุจุงุฏุฆ SOLID

### ุงูุฅุจูุงุบ ุนู ุงูุฃุฎุทุงุก
- ุงุณุชุฎุฏู GitHub Issues
- ูุตู ุงููุดููุฉ ุจุงูุชูุตูู
- ุฃุฑูู ุณุฌูุงุช ุงูุฃุฎุทุงุก
- ุญุฏุฏ ุฎุทูุงุช ุงูุชูุฑุงุฑ

---

**ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ุจูุงุณุทุฉ ูุฑูู Dirasiq API**
**ุงูุฅุตุฏุงุฑ: 1.0.0**
**ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ: ุฏูุณูุจุฑ 2024**
